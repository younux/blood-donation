<div class="col-md-6 col-md-offset-3">
  <h2>Login</h2>

  <form type="submit" name="loginForm" [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">

    <div class="form-group" [ngClass]="{ 'has-error': isFieldInvalid('username')}">
      <label> Username </label>
      <input type="text" class="form-control" name="username" [formControl]="myForm.controls['username']"/>
      <app-field-error-display [displayError]="isFieldInvalid('username')" [errorMsgs]="fieldErrorMessages('username')"></app-field-error-display>
    </div>

    <div class="form-group" [ngClass]="{ 'has-error': isFieldInvalid('email')}">
      <label> Email</label>
      <input type="email" class="form-control" name="email" [formControl]="myForm.controls['email']" />
      <app-field-error-display [displayError]="isFieldInvalid('email')" [errorMsgs]="fieldErrorMessages('email')"></app-field-error-display>
    </div>

    <div class="form-group" [ngClass]="{ 'has-error': isFieldInvalid('password')}">
      <label> Password </label>
      <input type="password" class="form-control" name="password" [formControl]="myForm.controls['password']" />
      <app-field-error-display [displayError]="isFieldInvalid('password')" [errorMsgs]="fieldErrorMessages('password')"></app-field-error-display>
    </div>

    <div class="form-group">
      <button [disabled] = "!myForm.valid" type="submit" class="btn btn-primary">Login</button>
      <a [routerLink]="['/register']" class="btn btn-link">Register</a>
    </div>
            
  </form>
</div>
